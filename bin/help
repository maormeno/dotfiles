#!/usr/bin/env bash

# Tldr/tlrc wrapper to show docs from ~/dotfiles/docs
# https://github.com/tldr-pages/tlrc
#
# Usage:
#   help command
#
# See more:
# https://github.com/tldr-pages/tldr-node-client
#
# Author: Artem Sapegin, sapegin.me
# License: MIT
# https://github.com/sapegin/dotfiles
#

root="$(dirname $(dirname $0))"
config="$root/tilde/.tlrc.toml"

if [[ "$1" != "" ]]; then
	md="$($root/bin/lib/get-tldr-md $1)"
else
	md="$root/docs/Readme.md"
fi

if [ "$md" != "" ]; then
	echo "tldr --config \"$config\" --render \"$md\""
	tldr --config "$config" --render "$md"
else
	echo "tldr --config \"$config\" \"$@\""
	tldr --config "$config" "$@"
fi
