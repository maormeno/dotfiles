#!/usr/bin/env bash

# Runs Textlint and Prettier on a text or Markdown file or files.
#
# - Lint text:
#
# `lint-wrt {{file_or_glob}}`
#
# ---
# Author: Artem Sapegin, sapegin.me
# License: MIT
# https://github.com/sapegin/dotfiles

root="$(dirname $(dirname $0))"
bin="$root/node_modules/.bin"

source_file="$1"
shift

echo
echo "Running Textlint..."
$bin/textlint --config $root/.textlintrc $@ "$source_file"

echo
echo "Running Prettier..."
$bin/prettier --no-config --print-width 70 --single-quote --prose-wrap never --write "$source_file"
