# Extra shell integrations loaded after aliases/exports/functions.

# Resolve Homebrew prefix once for plugin paths.
BREW_PREFIX=""
if command -v brew >/dev/null 2>&1; then
  BREW_PREFIX="$(brew --prefix)"
fi

# Load autosuggestions from Homebrew package.
if [[ -n "$BREW_PREFIX" && -r "$BREW_PREFIX/share/zsh-autosuggestions/zsh-autosuggestions.zsh" ]]; then
  ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=248'
  source "$BREW_PREFIX/share/zsh-autosuggestions/zsh-autosuggestions.zsh"
fi

# Load syntax highlighting from Homebrew package.
if [[ -n "$BREW_PREFIX" && -r "$BREW_PREFIX/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh" ]]; then
  source "$BREW_PREFIX/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"
fi

# Enable Starship prompt if installed.
if command -v starship >/dev/null 2>&1; then
  eval "$(starship init zsh)"
fi

# Cleanup temporary variable.
unset BREW_PREFIX
